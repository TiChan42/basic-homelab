# ansible-playbooks/group_vars/all.example.yml
# This is an example configuration file. 
# Copy this to 'all.yml' and adjust values to your needs.

# Proxmox API Connection
proxmox_api_host: "localhost"
proxmox_api_user: "root@pam"
proxmox_api_token_id: "ansible" 
proxmox_api_token_secret: "YOUR_SECRET_HERE" # Use ansible-vault in production!
proxmox_node: "pve"

# Repository values
repo_url: "https://github.com/TiChan42/basic-homelab.git"  # Replace with actual repo URL
repo_path: "{{ playbook_dir }}/../../"  # Dynamically set to the parent directory of ansible-playbooks

# Variables for mount-persistent-storage.yml
mount_persistent_storage_nas_ip: "192.168.1.100" # CHANGE THIS
mount_persistent_storage_nas_export: "/export/proxmox-data" # CHANGE THIS
mount_persistent_storage_mount_point: "/mnt/nas/services"
mount_persistent_storage_nfs_opts: "rw,vers=3,noatime,_netdev,nofail,timeo=600,retrans=2"

# Variables for check-mount.yml
check_mount_nfs_script_path: "/usr/local/bin/check_nfs_mount.sh"
check_mount_nfs_cron_minute: "*/1" # every minute

# Variables for setup-auto-deployment.yml
polling_script_path: "/usr/local/bin/homelab_auto_deployment.sh"
polling_cron_name: "homelab-auto-deployment"
polling_minute: 0
polling_hour: 3

# Variables for webserver service (Node.js project)
webserver_git_repo: "https://github.com/shape-z/windowmesh.git"  # Adjust as needed
webserver_port: "8080" # Port the webserver listens on
webserver_build_path: "" 
webserver_start_path: ""  
webserver_build_command: "npm install && npm run build"  # Adjust as needed
webserver_start_command: "PORT={{ webserver_port }} npm start"  # Adjust as needed
webserver_process_name: "next-server"  # Adjust as needed
webserver_container_id: "8080"  # Adjust as needed
webserver_container_template: "local:vztmpl/ubuntu-24.04-standard_24.04-2_amd64.tar.zst"  # Proxmox VolID format
webserver_container_hostname: "desktop-background-webserver"  # Hostname for the container
webserver_container_memory: "512"  # Memory in MB
webserver_container_cores: "1"  # Number of CPU cores
webserver_container_storage: "local-lvm"  # Storage pool
webserver_container_ip: "192.168.1.65" # CHANGE THIS
webserver_container_cidr: "/24"
webserver_container_gateway: "192.168.1.1" # CHANGE THIS
webserver_container_net0: "name=eth0,bridge=vmbr0,ip={{ webserver_container_ip }}{{ webserver_container_cidr }},gw={{ webserver_container_gateway }}"  # Network configuration
webserver_container_rootfs: "local-lvm:8"  # Root filesystem size in GB
