all:
  children:
    webservers:
      vars:
        ansible_user: root
        ansible_ssh_private_key_file: /root/.ssh/id_rsa
        ansible_ssh_common_args: '-o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null'
        # Defaults for all webservers (can be overridden per host)
        webserver_container_template: "local:vztmpl/ubuntu-24.04-standard_24.04-2_amd64.tar.zst"
        webserver_container_memory: "512"
        webserver_container_cores: "1"
        webserver_container_storage: "local-lvm"
        webserver_container_cidr: "/24"
        webserver_container_gateway: "192.168.1.1"
        webserver_container_rootfs: "local-lvm:8"
        webserver_node_version: "22"
        webserver_build_command: "npm run build"
      hosts:
        desktop-background-webserver:
          ansible_host: "192.168.1.52"
          webserver_container_id: "3003"
          webserver_container_ip: "192.168.1.52"
          webserver_port: "3003"
          webserver_git_repo: "https://github.com/shape-z/windowmesh.git"
          webserver_git_branch: "main"
        # ---------------------------------------------------------------
        # Example: Add another webserver by uncommenting below
        # ---------------------------------------------------------------
        # my-portfolio:
        #   ansible_host: "192.168.1.53"
        #   webserver_container_id: "3004"
        #   webserver_container_ip: "192.168.1.53"
        #   webserver_port: "3004"
        #   webserver_git_repo: "https://github.com/user/portfolio.git"
        #   webserver_git_branch: "main"
        #   webserver_build_command: "npm run build"  # override default